## http
    http是在TCP/IP协议族基础上运作的，http是一个子集。 

## 协议分层
    物理层、数据层、网络层、传输层、会话层、表示层、应用层

    又可分为四层：
    链路层：物理层、数据层的统称（网络连接的硬件部分）
    网络层：IP选择传输线路（通过IP地址和Mac地址）（使用ARP协议凭借Mac地址进行通信）
    传输层：TCP（可靠，断线重连、丢包重发）UDP数据传输（丢包）（HTTP=>TCP DNS=>UDP）
    应用层：HTTP、FTP、DNS（与其他计算机进行通讯的一个应用服务，向用户提供应用服务时的通信服务）

## DNS
    将域名和IP地址互相映射的一个分布式数据库，更方便访问互联网。DNS使用TCP和UDP端口53.用来将域名转换为IP地址或者将IP地址转换为域名。

## 使用域名访问页面过程
    1、输入域名通过DNS转换成IP地址，并将IP地址返回给客户端。
    2、通过HTT协议P生成针对目标web服务器的HTTP请求报文（应用层）。
    3、为了方便通信通过TCP协议将HTTP请求报文分割成报文段（按序号分为多个报文段， 将每个报文段可靠地传输给对方）（传输层）。
    4、使用IP协议搜索对方的地址、一边中转一边传输（网络层）。
    5、使用TCP协议接收到报文段并且重组报文段。
    6、使用HTTP协议对web服务器请求的内容进行处理。

## 服务器部署项目
    一个服务器（对应一个IP地址）可能部署多个项目，通过端口号区分项目。

## HTTP特点
 ### 优点 
    1、默认不保存状态（可以通过cookie来保存状态）。
    2、http1.1以后是长链接 keep-alive 不会断开连接，复用的策略
    3、默认管线化（不是一个一个请求、是并发请求、提高发送请求的个数、针对同一域名、cdn方式提高加载速度）
 ### 缺点
    1、不安全、无法校验返回数据的完整性，可以使用https

## curl (本地必须安装git)
    eg. curl -v -X --data =1 POST www.baidu.com

## 常用请求方法
    1、get 通过url参数传递数据 明文传输不安全
    2、post 通过请求体传递数据 明文传输不安全

## RESTFUL风格
    根据请求方式的不同判断操作类型
    - get 请求获取数据
    - post 添加数据
    - delete 删除数据
    - put 修改数据
    - options 预先检测（预检请求）跨域 如果发送的是复杂请求并且是跨域，默认会先发送options请求。

    简单请求
        跨域的时候，get post options默认是简单请求。增加自定义的header会变成复杂请求。
    复杂请求
        delete put

    跨域：
        协议、域名、端口号任意一个不相同都是跨域
    解决跨域：
        1、cors 服务端解决跨域（添加跨域头）
        2、jsonp
        3、nginx（反向代理）
        4、websocket(H5提供的，不限制域)
        5、iframe
        6、window.name

## window.postMessage

## 响应的状态码
    101 websocket
    200 成功
    204 成功了但是没有响应体
    206 断点续传（返回部分数据）
    301 永久重定向 
    302 临时重定向
    304 服务器缓存 协商缓存 
    307 重定向 不会改变方法，eg. 重定向到一个新页面本会将post方法转为get方法，307就不会
    400 客户端参数不正确
    401 没有权限，没登录
    403 没有权限，登录了没权限
    404 找不到
    405 服务器不支持此方法 not allowed method
    500 服务端的问题（内部服务器错误）
    502 负载均衡出现问题
    503 服务端报错
    504 gateway

## 请求中数据分为三 部分（请求的报文）
    - 请求行
        请求方法、请求路径（pathname后面部分，hash前面到内容）、http version
        可以通过问号传递参数
    - 请求头
        可以传递数据（自定义的header）
    - 请求体
        可以传递数据 传递任何形式的数据包含二进制格式

## 响应中数据分为三部分
    - 响应行
        http version、状态码、响应短语
    - 响应头
        自定义响应信息
    - 响应体
        返回给浏览器的内容

## nodemon 文件变化后自动重新运行或者使用pm2
    可以监视自动重启、自动打包
    安装nodemon 
        npm install nodemon -g (mac报错)
    使用nodemon
        nodemon 文件名

